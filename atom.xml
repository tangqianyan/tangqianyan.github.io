<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>静渊</title>
  
  <subtitle>静渊以有谋，疏通而知事</subtitle>
  <link href="https://tangqianyan.github.io/atom.xml" rel="self"/>
  
  <link href="https://tangqianyan.github.io/"/>
  <updated>2021-08-20T16:58:58.184Z</updated>
  <id>https://tangqianyan.github.io/</id>
  
  <author>
    <name>Curtis Xiao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>现代化问题</title>
    <link href="https://tangqianyan.github.io/2021/08/20/%E7%8E%B0%E4%BB%A3%E5%8C%96%E9%97%AE%E9%A2%98/"/>
    <id>https://tangqianyan.github.io/2021/08/20/%E7%8E%B0%E4%BB%A3%E5%8C%96%E9%97%AE%E9%A2%98/</id>
    <published>2021-08-19T16:01:53.000Z</published>
    <updated>2021-08-20T16:58:58.184Z</updated>
    
    <content type="html"><![CDATA[<p>读温铁军的《告别百年激进：中国的现代化问题》。</p><p>读完前言和第一章，作者的分析框架是基于 <strong>成本转嫁论</strong>的。这个分析框架很有意思，抛开意识问题，从每个人、每个国家最关心的利益角度来分析问题，拨开表面，寻求规律。</p><p>看完上书的第一章节，感觉有种通透的感觉。看过的另一本关于现代化的书是李录的《文明、现代化、价值投资与中国》。这两本书感觉可以放在一起读，从而对这类研究思路有一个整体的认识与了解。两本书都强调自然环境对文明形成的影响。李似乎更侧重于对于文明的成因，文明阶段的划分等方面，温则似乎更侧重于成本转嫁的角度来讨论现代化。这个后面看完之后，可以做一个整体的分析。</p><p>以下内容整理自两本书中的内容，文字仅供梳理思路。</p><p>首先，现代化是什么？</p><blockquote><p>现代化就是当现代科技与市场经济相结合时所产生的经济无限增长的现象。</p><footer><strong>文明、现代化、价值投资与中国 -李录</strong></footer></blockquote><blockquote><p>现代化（不论是否工业化）= 人类近代历史中的一个资本和风险同步向城市集中并周期性爆发危机的阶段性过程。</p><footer><strong>告别百年激进：中国的现代化问题 -温铁军</strong></footer></blockquote><p>根据能量守恒定律，实现现代化必然要付出对应的代价，或者说成本。这条定律应当说是自然科学或者社会学领域的铁律，不以意识形态、政治体制或者人的意志为转移。这里的成本归根结底应当是两方面的，即人力成本和环境成本。环境提供发展所需的原材料，如煤炭、石油等，人提供加工原材料所需的劳动力。</p><p>另一方面，我们看现代化的产出是什么，是经济无限增长。无限增长会导致的一个结果就是三大资本过剩，即金融资本、工业资本和商业资本过剩。</p><blockquote><p>当三大资本都过剩的时候，就会出现成本的社会转嫁。</p><footer><strong>告别百年激进：中国的现代化问题 -温铁军</strong></footer></blockquote><p>成本转嫁怎么转，两个方面，对内和对外。对外即金融资本核心国家向发展中国家做代价转移，对内即高一阶层向低阶层转嫁或者说城市向农村转嫁成本与风险。</p><p>莫里斯社会发展指数，用人类摄取能量、社会组织、信息技术和战争动员四个方面的能力指数合成。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;读温铁军的《告别百年激进：中国的现代化问题》。&lt;/p&gt;
&lt;p&gt;读完前言和第一章，作者的分析框架是基于 &lt;strong&gt;成本转嫁论&lt;/strong&gt;的。这个分析框架很有意思，抛开意识问题，从每个人、每个国家最关心的利益角度来分析问题，拨开表面，寻求规律。&lt;/p&gt;
&lt;p&gt;看完上</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Fama-French 三因子模型</title>
    <link href="https://tangqianyan.github.io/2021/08/17/Fama-French/"/>
    <id>https://tangqianyan.github.io/2021/08/17/Fama-French/</id>
    <published>2021-08-17T15:00:24.000Z</published>
    <updated>2021-08-18T15:27:02.748Z</updated>
    
    <content type="html"><![CDATA[<h2 id="资本资产定价模型"><a class="markdownIt-Anchor" href="#资本资产定价模型"></a> 资本资产定价模型</h2><hr /><p>资本资产定价模型 (Capital Asset Pricing Model, CAPM) 用来刻画风险与预期收益率之间的关系。换言之，该公式用来判断资产的定价在考虑风险和货币时间价值 (Time Value of Money, TVM) 的情况下是否合理。</p><p>公式如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>[</mo><msub><mi>R</mi><mi>i</mi></msub><mo>]</mo><mo>−</mo><msub><mi>R</mi><mi>f</mi></msub><mo>=</mo><msub><mi>β</mi><mi>i</mi></msub><mo>(</mo><mi>E</mi><mo>[</mo><msub><mi>R</mi><mi>m</mi></msub><mo>]</mo><mo>−</mo><msub><mi>R</mi><mi>f</mi></msub><mo>)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">E[R_i]-R_f = \beta_i(E[R_m]-R_f),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span><span class="mbin">−</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05278em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">m</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span><span class="mbin">−</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span></p><p>其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">R_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 为资产 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.65952em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">i</span></span></span></span> 的收益率；</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">R_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 为无风险利率；</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">R_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 为市场组合的收益率，通常用股票指数的收益率或者所有股票的收益率表示；</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>β</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\beta_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05278em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 为资产 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.65952em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">i</span></span></span></span> 的系统性风险系数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>β</mi><mi>i</mi></msub><mo>=</mo><mfrac><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo>(</mo><msub><mi>R</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>R</mi><mi>M</mi></msub><mo>)</mo></mrow><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mo>(</mo><msub><mi>R</mi><mi>M</mi></msub><mo>)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\beta_i=\frac{cov(R_i, R_M)}{var(R_M)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.01em;"></span><span class="strut bottom" style="height:1.53em;vertical-align:-0.52em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05278em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.34500000000000003em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">v</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">)</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.485em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">c</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">)</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span>。如果资产的风险大于市场组合，那么 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05278em;">β</span></span></span></span> 大于1。反之，则小于1；</li></ul><h2 id="fama-french-三因子模型"><a class="markdownIt-Anchor" href="#fama-french-三因子模型"></a> Fama-French 三因子模型</h2><hr /><p>三因子模型的公式如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>[</mo><msub><mi>R</mi><mi>i</mi></msub><mo>]</mo><mo>−</mo><msub><mi>R</mi><mi>f</mi></msub><mo>=</mo><msub><mi>β</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>M</mi><mi>K</mi><mi>T</mi></mrow></msub><mo>(</mo><mi>E</mi><mo>[</mo><msub><mi>R</mi><mi>M</mi></msub><mo>]</mo><mo>−</mo><msub><mi>R</mi><mi>f</mi></msub><mo>)</mo><mo>+</mo><msub><mi>β</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>S</mi><mi>M</mi><mi>B</mi></mrow></msub><mi>E</mi><mo>[</mo><msub><mi>R</mi><mrow><mi>S</mi><mi>M</mi><mi>B</mi></mrow></msub><mo>]</mo><mo>+</mo><msub><mi>β</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>H</mi><mi>M</mi><mi>L</mi></mrow></msub><mi>E</mi><mo>[</mo><msub><mi>R</mi><mrow><mi>H</mi><mi>M</mi><mi>L</mi></mrow></msub><mo>]</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">E[R_i]-R_f = \beta_{i,MKT}(E[R_M]-R_f)+\beta_{i,SMB}E[R_{SMB}]+\beta_{i,HML}E[R_{HML}],</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span><span class="mbin">−</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05278em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit" style="margin-right:0.07153em;">K</span><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span><span class="mbin">−</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">)</span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05278em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05278em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.08125em;">H</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">L</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.08125em;">H</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">L</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span><span class="mpunct">,</span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>[</mo><msub><mi>R</mi><mi>M</mi></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">E[R_M]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span></span></span></span> 为市场组合预期收益率；</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>[</mo><msub><mi>R</mi><mrow><mi>S</mi><mi>M</mi><mi>B</mi></mrow></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">E[R_{SMB}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span></span></span></span> 为规模因子的预期收益率；</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>[</mo><msub><mi>R</mi><mrow><mi>H</mi><mi>M</mi><mi>L</mi></mrow></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">E[R_{HML}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.08125em;">H</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">L</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span></span></span></span> 为价值因子的预期收益率；</li></ul><p>可以写成如下形式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>[</mo><msub><mi>R</mi><mi>i</mi></msub><mo>]</mo><mo>−</mo><msub><mi>R</mi><mi>f</mi></msub><mo>=</mo><msub><mi>β</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>M</mi><mi>K</mi><mi>T</mi></mrow></msub><mo>(</mo><msub><mi>R</mi><mi>M</mi></msub><mo>−</mo><msub><mi>R</mi><mi>f</mi></msub><mo>)</mo><mo>+</mo><msub><mi>β</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>S</mi><mi>M</mi><mi>B</mi></mrow></msub><msub><mi>R</mi><mrow><mi>S</mi><mi>M</mi><mi>B</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>H</mi><mi>M</mi><mi>L</mi></mrow></msub><msub><mi>R</mi><mrow><mi>H</mi><mi>M</mi><mi>L</mi></mrow></msub><mo>+</mo><msub><mi>α</mi><mi>i</mi></msub><mo>+</mo><msub><mi>ε</mi><mi>i</mi></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">E[R_i]-R_f = \beta_{i,MKT}(R_M-R_f)+\beta_{i,SMB}R_{SMB}+\beta_{i,HML}R_{HML}+\alpha_i+\varepsilon_i,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span><span class="mbin">−</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05278em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit" style="margin-right:0.07153em;">K</span><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">−</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">)</span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05278em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05278em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.08125em;">H</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">L</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.08125em;">H</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">L</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.0037em;">α</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.0037em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit">ε</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span></span></span></span></span></p><p>其中:</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>α</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\alpha_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.0037em;">α</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.0037em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 为超额收益率，是投资组合在大盘波动之外的额外收益。该值越高说明，投资组合越好；</li></ul><p>参考链接：</p><ol><li><a href="https://zh.wikipedia.org/wiki/%E8%B5%84%E6%9C%AC%E8%B5%84%E4%BA%A7%E5%AE%9A%E4%BB%B7%E6%A8%A1%E5%9E%8B">资本资产定价模型</a></li><li><a href="https://www.investopedia.com/terms/c/capm.asp">Capital Asset Pricing Model (CAPM)</a></li><li><a href="https://zhuanlan.zhihu.com/p/55071842">Python量化入门：Fama-French三因子模型</a></li><li><a href="https://zh.wikipedia.org/wiki/%E4%B8%89%E5%9B%A0%E5%AD%90%E6%A8%A1%E5%9E%8B">三因子模型</a></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;资本资产定价模型&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#资本资产定价模型&quot;&gt;&lt;/a&gt; 资本资产定价模型&lt;/h2&gt;
&lt;hr /&gt;
&lt;p&gt;资本资产定价模型 (Capital Asset Pricing Model, CAPM) 用来</summary>
      
    
    
    
    
    <category term="quant" scheme="https://tangqianyan.github.io/tags/quant/"/>
    
  </entry>
  
  <entry>
    <title>多因子选股模型之因子分类</title>
    <link href="https://tangqianyan.github.io/2021/08/16/%E5%A4%9A%E5%9B%A0%E5%AD%90%E9%80%89%E8%82%A1%E6%A8%A1%E5%9E%8B/"/>
    <id>https://tangqianyan.github.io/2021/08/16/%E5%A4%9A%E5%9B%A0%E5%AD%90%E9%80%89%E8%82%A1%E6%A8%A1%E5%9E%8B/</id>
    <published>2021-08-16T15:47:58.000Z</published>
    <updated>2021-08-17T15:05:26.932Z</updated>
    
    <content type="html"><![CDATA[<h2 id="因子分类"><a class="markdownIt-Anchor" href="#因子分类"></a> 因子分类</h2><h3 id="估值类因子"><a class="markdownIt-Anchor" href="#估值类因子"></a> 估值类因子</h3><p>估值类因子能较好的反应股票的内在价值。通常来说，估值较低的股票相比估值较高的因子有更好的预期收益率。常用的指标有</p><ul><li>PE (Price-Earning Ratio): 市盈率</li></ul>PE = \frac{每股市场价格}{每股每年盈利}<ul><li>PB (Price-to-Book Ratio)：市净率</li></ul>PB = \frac{市值}{归母公司净资产}<ul><li>PCF (Price-to-Cash-Flow Ratio)：股价现金流比率</li></ul>PCF = \frac{每股股价}{每股现金流}<ul><li>PSR (Price-Sales Ratio)：股价销售额比率，市销率或称市值营收比</li></ul>PSR = \frac{股价}{盈利收入}<h3 id="成长类因子"><a class="markdownIt-Anchor" href="#成长类因子"></a> 成长类因子</h3><p>成长类因子主要反映公司未来的成长。改因子和未来预期收益较为相关。</p><ul><li>NPG (Net Profit Growth)：净利润增长率，净利润增长率代表企业当期净利润比上期净利润的增长幅度；</li></ul>NPG = \frac{报告期净利润-基期净利润}{基期净利润}<ul><li>EPS (Earnings Per Share)：每股盈余，普通股每股税后利润。</li></ul>EPS = \frac{盈余}{流通在外的股数}<ul><li>ROA (Return on Assert)：资产回报率</li></ul>ROA = \frac{税后净利润}{总资产}<ul><li>ROE (Return on Equity)：净资产收益率</li></ul>ROE = \frac{净利润}{净资产}<h3 id="盈利类因子"><a class="markdownIt-Anchor" href="#盈利类因子"></a> 盈利类因子</h3><p>盈利类因子指通过已有资源获取利润的能力，通常衡量企业的管理和发展能力。</p><ul><li>ROE</li><li>ROA</li><li>ROIC (Return on Invested Capital)：资产回报率</li></ul>ROIC = \frac{息前税后利润}{投入资本}<ul><li>TAT (Total Asset Turnover)：总资产周转率</li></ul>TAT = \frac{销售额}{总资产}<h3 id="投资类因子"><a class="markdownIt-Anchor" href="#投资类因子"></a> 投资类因子</h3><p>投资类因子主要衡量因子的发展情况。</p><ul><li>Total Market Capitaliztion 股票市值</li><li>Asset Liability Ratio 资产负债比率</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>L</mi><mi>R</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mtext> </mtext><mi>L</mi><mi>a</mi><mi>b</mi><mi>i</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>e</mi><mi>s</mi></mrow><mrow><mi>N</mi><mi>e</mi><mi>t</mi><mtext> </mtext><mi>A</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>s</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">ALR = \frac{Total\ Labilities}{Net\ Assets}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.37144em;"></span><span class="strut bottom" style="height:2.05744em;vertical-align:-0.686em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit">A</span><span class="mord mathit">L</span><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit">e</span><span class="mord mathit">t</span><span class="mord mspace"> </span><span class="mord mathit">A</span><span class="mord mathit">s</span><span class="mord mathit">s</span><span class="mord mathit">e</span><span class="mord mathit">t</span><span class="mord mathit">s</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit">o</span><span class="mord mathit">t</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mspace"> </span><span class="mord mathit">L</span><span class="mord mathit">a</span><span class="mord mathit">b</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">i</span><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">e</span><span class="mord mathit">s</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></span></p><ul><li>Fixed Assets Ratio</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mi>A</mi><mi>R</mi><mo>=</mo><mfrac><mrow><mi>F</mi><mi>i</mi><mi>x</mi><mi>e</mi><mi>d</mi><mtext> </mtext><mi>A</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>s</mi></mrow><mrow><mi>T</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mtext> </mtext><mi>A</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>s</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">FAR = \frac{Fixed\ Assets}{Total\ Assets}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.37144em;"></span><span class="strut bottom" style="height:2.05744em;vertical-align:-0.686em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit">o</span><span class="mord mathit">t</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mspace"> </span><span class="mord mathit">A</span><span class="mord mathit">s</span><span class="mord mathit">s</span><span class="mord mathit">e</span><span class="mord mathit">t</span><span class="mord mathit">s</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mord mathit">i</span><span class="mord mathit">x</span><span class="mord mathit">e</span><span class="mord mathit">d</span><span class="mord mspace"> </span><span class="mord mathit">A</span><span class="mord mathit">s</span><span class="mord mathit">s</span><span class="mord mathit">e</span><span class="mord mathit">t</span><span class="mord mathit">s</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></span></p><h3 id="技术类因子"><a class="markdownIt-Anchor" href="#技术类因子"></a> 技术类因子</h3><p>通过价量数据来反映股价的变化情况。这类因子很多。</p><h2 id="数据处理的问题"><a class="markdownIt-Anchor" href="#数据处理的问题"></a> 数据处理的问题</h2><p>行业中性化主要是为了解决不同行业，指标差异较大的问题。行业中性化有以下几种方法：</p><ul><li>因子值减去行业均值再除以行业因子方差，有点类似于数据标准化：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>n</mi><mi>d</mi><mi>u</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>y</mi><mtext> </mtext><mi>N</mi><mi>e</mi><mi>u</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>l</mi><mi>i</mi><mi>z</mi><mi>e</mi><mi>d</mi><mtext> </mtext><mi>F</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi><mo>=</mo><mfrac><mrow><mi>F</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi><mo>−</mo><mi>A</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>a</mi><mi>g</mi><msub><mi>e</mi><mrow><mi>i</mi><mi>n</mi><mi>d</mi><mi>u</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>y</mi></mrow></msub></mrow><mrow><mi>S</mi><mi>t</mi><msub><mi>d</mi><mrow><mi>i</mi><mi>n</mi><mi>d</mi><mi>u</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>y</mi></mrow></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">Industry\ Neutralized\ Factor = \frac{Factor- Average_{industry}}{Std_{industry}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.36033em;"></span><span class="strut bottom" style="height:2.332438em;vertical-align:-0.972108em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mord mathit">n</span><span class="mord mathit">d</span><span class="mord mathit">u</span><span class="mord mathit">s</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mord mspace"> </span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit">e</span><span class="mord mathit">u</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right:0.04398em;">z</span><span class="mord mathit">e</span><span class="mord mathit">d</span><span class="mord mspace"> </span><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit">t</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.6859999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit">t</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mord mathit">d</span><span class="mord mathit">u</span><span class="mord mathit">s</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit">t</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mbin">−</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right:0.03588em;">v</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord"><span class="mord mathit">e</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mord mathit">d</span><span class="mord mathit">u</span><span class="mord mathit">s</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></span></p><p>参考文献：</p><ol><li>多因子选股策略及其在中国股票市场的研究；</li><li>因子投资-方法与实践；</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;因子分类&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#因子分类&quot;&gt;&lt;/a&gt; 因子分类&lt;/h2&gt;
&lt;h3 id=&quot;估值类因子&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#估值类因子&quot;&gt;&lt;/a&gt; 估值类因子&lt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>运动记录</title>
    <link href="https://tangqianyan.github.io/2021/08/16/%E8%BF%90%E5%8A%A8%E8%AE%B0%E5%BD%95/"/>
    <id>https://tangqianyan.github.io/2021/08/16/%E8%BF%90%E5%8A%A8%E8%AE%B0%E5%BD%95/</id>
    <published>2021-08-16T15:37:19.000Z</published>
    <updated>2021-08-20T16:08:20.720Z</updated>
    
    <content type="html"><![CDATA[<div class="table", style="width:30%;margin:auto">|日期|俯卧撑|深蹲||:--:|:---:|:---:||2021-08-15|3|3||2021-08-16|3|3||2021-08-17|3|4||2021-08-18|4|4||2021-08-19|4|4||2021-08-20|4|4|</div>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;table&quot;, style=&quot;width:30%;margin:auto&quot;&gt;

|日期|俯卧撑|深蹲|
|:--:|:---:|:---:|
|2021-08-15|3|3|
|2021-08-16|3|3|
|2021-08-17|3|4|
|2021-</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>量化文章</title>
    <link href="https://tangqianyan.github.io/2021/08/16/%E9%87%8F%E5%8C%96%E6%96%87%E7%AB%A0/"/>
    <id>https://tangqianyan.github.io/2021/08/16/%E9%87%8F%E5%8C%96%E6%96%87%E7%AB%A0/</id>
    <published>2021-08-16T06:13:30.000Z</published>
    <updated>2021-08-16T09:53:16.602Z</updated>
    
    <content type="html"><![CDATA[<p>收录了一些量化相关的文章：</p><h2 id="量化历史类"><a class="markdownIt-Anchor" href="#量化历史类"></a> 量化历史类</h2><ul><li><a href="https://mp.weixin.qq.com/s/VPrtXh-M2Sf8osNCDLFrPg">量化投资发展史：野蛮、乱象、科学</a></li><li><a href="https://www.ylcf.com.cn/simu/zx/144.html">四大私募量化策略解析——阿尔法、套利、期货CTA、高频交易</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;收录了一些量化相关的文章：&lt;/p&gt;
&lt;h2 id=&quot;量化历史类&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#量化历史类&quot;&gt;&lt;/a&gt; 量化历史类&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/</summary>
      
    
    
    
    
    <category term="Quant" scheme="https://tangqianyan.github.io/tags/Quant/"/>
    
  </entry>
  
  <entry>
    <title>Python 存储 DataFrame 格式对比</title>
    <link href="https://tangqianyan.github.io/2021/08/15/save-data/"/>
    <id>https://tangqianyan.github.io/2021/08/15/save-data/</id>
    <published>2021-08-15T13:55:34.000Z</published>
    <updated>2021-08-15T15:10:08.733Z</updated>
    
    <content type="html"><![CDATA[<p>测试了 <em>fether, parquet, pickle, hdf, csv</em> 五种格式在读取、存储所需的时间，以及占用的磁盘大小；</p><h3 id="读取文件耗时"><a class="markdownIt-Anchor" href="#读取文件耗时"></a> 读取文件耗时</h3><div style="width:30%;margin:auto"><img src="/images/read.png" class="[table]" title="title text alt text"></div><h3 id="存储文件耗时"><a class="markdownIt-Anchor" href="#存储文件耗时"></a> 存储文件耗时</h3><div style="width:30%;margin:auto"><img src="/images/write.png" class="[table]" title="title text alt text"></div><h3 id="占用硬盘大小"><a class="markdownIt-Anchor" href="#占用硬盘大小"></a> 占用硬盘大小</h3><div style="width:30%;margin:auto"><img src="/images/cost_size.png" class="[table]" title="title text alt text"></div><h3 id="结论"><a class="markdownIt-Anchor" href="#结论"></a> 结论</h3><p>可以看出 feather 格式在读取速度、存储速度以及存储大小方面占据优势。</p><p>参考链接：</p><ul><li><a href="https://towardsdatascience.com/the-best-format-to-save-pandas-data-414dca023e0d">The Best Format to Save Pandas Data</a></li><li><a href="https://stackoverflow.com/questions/48083405/what-are-the-differences-between-feather-and-parquet">What are the differences between feather and parquet?</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;测试了 &lt;em&gt;fether, parquet, pickle, hdf, csv&lt;/em&gt; 五种格式在读取、存储所需的时间，以及占用的磁盘大小；&lt;/p&gt;
&lt;h3 id=&quot;读取文件耗时&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#读取文件耗时&quot;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Alpha 模型</title>
    <link href="https://tangqianyan.github.io/2021/08/14/alpha-model/"/>
    <id>https://tangqianyan.github.io/2021/08/14/alpha-model/</id>
    <published>2021-08-14T15:53:53.000Z</published>
    <updated>2021-08-15T12:49:10.931Z</updated>
    
    <content type="html"><![CDATA[<p>参考文献：</p><ul><li><a href="https://mp.weixin.qq.com/s?__biz=MzI0MDIwNDg2NQ==&amp;mid=2247485498&amp;idx=1&amp;sn=cf54035897cd679e803cba752a9b88c5&amp;chksm=e91f2514de68ac026565d9107e5cabacaf304ebbd804b56a2ccb4e364a4cc2eb738893300b73&amp;mpshare=1&amp;scene=23&amp;srcid=0102r4fgOVIuP4voD2vljwXf#rd">一个量化少年的年度因子研究总结<br /></a></li><li><a href="https://blog.csdn.net/The_Time_Runner/article/details/100118505">量化数据预处理：去极值、标准化、中性化<br /></a></li></ul><h2 id="1-alpha-模型"><a class="markdownIt-Anchor" href="#1-alpha-模型"></a> 1. Alpha 模型</h2><p>Alpha模型就是用来预测组合收益的模型，通过筛选一类优质股票，获取超额收益。</p><h2 id="2-因子计算"><a class="markdownIt-Anchor" href="#2-因子计算"></a> 2. 因子计算</h2><h3 id="21-一个简单的因子"><a class="markdownIt-Anchor" href="#21-一个简单的因子"></a> 2.1 一个简单的因子</h3><p>我们使用的一个简单的因子来进行演示，因子公式如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi><mo>=</mo><mi>c</mi><mi>l</mi><mi>o</mi><mi>s</mi><mi>e</mi><mo>−</mo><mi>d</mi><mi>e</mi><mi>l</mi><mi>a</mi><mi>y</mi><mo>(</mo><mi>c</mi><mi>l</mi><mi>o</mi><mi>s</mi><mi>e</mi><mo separator="true">,</mo><mn>1</mn><mo>)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">factor=close-delay(close, 1).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit">t</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mrel">=</span><span class="mord mathit">c</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">o</span><span class="mord mathit">s</span><span class="mord mathit">e</span><span class="mbin">−</span><span class="mord mathit">d</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathit">c</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">o</span><span class="mord mathit">s</span><span class="mord mathit">e</span><span class="mpunct">,</span><span class="mord mathrm">1</span><span class="mclose">)</span><span class="mord mathrm">.</span></span></span></span></span></p><p>我们使用 <a href="http://000001.SH">000001.SH</a> 的数据进行计算，并绘制出因子值分布图，如下:</p><div style="width:30%;margin:auto"><img src="/images/factor_values_histgram.png" class="[table]" title="title text alt text"></div><h3 id="21-因子数据异常值处理"><a class="markdownIt-Anchor" href="#21-因子数据异常值处理"></a> 2.1 因子数据异常值处理</h3><p>通过因子函数计算出来的因子值，可能会包含异常值，我们需要对这些数值做相应的处理。</p><h4 id="211-去极值"><a class="markdownIt-Anchor" href="#211-去极值"></a> 2.1.1 去极值</h4><ul><li>分位数去极值：把上下几分位数外的数据进行截断。譬如，四分位数将数据分为数量上相等的四个部分。我们先使用pandas中的describe看下因子值的整体情况：</li></ul><div class="table", style="width:30%;margin:auto"><table><thead><tr><th style="text-align:center"></th><th style="text-align:left">000001.XSHE</th></tr></thead><tbody><tr><td style="text-align:center">count</td><td style="text-align:left">25.000000</td></tr><tr><td style="text-align:center">mean</td><td style="text-align:left">-0.220800</td></tr><tr><td style="text-align:center">std</td><td style="text-align:left">0.538949</td></tr><tr><td style="text-align:center">min</td><td style="text-align:left">-1.390000</td></tr><tr><td style="text-align:center">25%</td><td style="text-align:left">-0.280000</td></tr><tr><td style="text-align:center">50%</td><td style="text-align:left">-0.130000</td></tr><tr><td style="text-align:center">75%</td><td style="text-align:left">-0.040000</td></tr><tr><td style="text-align:center">max</td><td style="text-align:left">0.860000</td></tr></tbody></table></div><p>画出因子值曲线</p><div style="width:30%;margin:auto"><img src="/images/factor_value.png" class="[table]" title="title text alt text"></div><p>四分位数截断的代码如下：</p><figure class="highlight python"><figcaption><span>4-quantile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quantitle_clip</span>(<span class="params">df</span>):</span></span><br><span class="line">    qr = df.quantile(q=[<span class="number">0.25</span>,<span class="number">0.75</span>], axis=<span class="number">0</span>)</span><br><span class="line">    q1 = qr.iloc[<span class="number">0</span>]</span><br><span class="line">    q2 = qr.iloc[<span class="number">1</span>]</span><br><span class="line">    iqr = q2 - q1 <span class="comment">#Interquartile range</span></span><br><span class="line"></span><br><span class="line">    fence_low  = q1-<span class="number">1.5</span>*iqr</span><br><span class="line">    fence_high = q2+<span class="number">1.5</span>*iqr</span><br><span class="line">    <span class="keyword">return</span> df.clip(fence_low, fence_high, axis=<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>画出截断后的因子折线图：</p><div style="width:30%;margin:auto"><img src="/images/quantile_clip.png" class="[table]" title="title text alt text"></div><p>截断后的因子分布图</p><div style="width:30%;margin:auto"><img src="/images/quantile_hist.png" class="[table]" title="title text alt text"></div><ul><li>3-sigma法：假设数据符合正态分布，把三倍标准差之外的值都视为异常值。均值和标准差都不是稳健统计量，其值受极值的影响较大。</li></ul><p>3-sigma数据截断的代码如下：</p><figure class="highlight python"><figcaption><span>3-sigma</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">three_sigma</span>(<span class="params">df</span>):</span></span><br><span class="line"></span><br><span class="line">    mean = df.mean(axis=<span class="number">0</span>)</span><br><span class="line">    std = df.std(axis=<span class="number">0</span>)    </span><br><span class="line">    fence_low  = mean - <span class="number">3.0</span>*std</span><br><span class="line">    fence_high = mean + <span class="number">3.0</span>*std</span><br><span class="line">    <span class="keyword">return</span> df.clip(fence_low, fence_high, axis=<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>3-sigma截断数据的折线图如下：</p><div style="width:30%;margin:auto"><img src="/images/three_sigma.png" class="[table]" title="title text alt text"></div><p>3-sigma截断数据的分布图如下：</p><div style="width:30%;margin:auto"><img src="/images/three_sigma_hist.png" class="[table]" title="title text alt text"></div><ul><li>中位数法：前面提到 3-sigma 方法均值和方差不够稳定。中位数法把这两个值换成稳健统计量，即使用中位数代替均值，用 MAD (Median Absolute Deviation) 代替方差。</li></ul><figure class="highlight python"><figcaption><span>MAD</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mad</span>(<span class="params">df</span>):</span></span><br><span class="line">    median = df.median(axis=<span class="number">0</span>)</span><br><span class="line">    mae = (df-median).<span class="built_in">abs</span>().median(axis=<span class="number">0</span>)    </span><br><span class="line">    fence_low  = median - <span class="number">3.0</span>*mae</span><br><span class="line">    fence_high = median + <span class="number">3.0</span>*mae</span><br><span class="line">    <span class="keyword">return</span> df.clip(fence_low, fence_high, axis=<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MAD 截断数据的折线图如下：</p><div style="width:30%;margin:auto"><img src="/images/mad.png" class="[table]" title="title text alt text"></div><p>MAD 截断数据的分布图如下：</p><div style="width:30%;margin:auto"><img src="/images/mad_hist.png" class="[table]" title="title text alt text"></div><h2 id="数据标准化"><a class="markdownIt-Anchor" href="#数据标准化"></a> 数据标准化</h2><ul><li>最小最大标准化 (Min-Max Normalization)</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo>(</mo><mi>X</mi><mo>)</mo></mrow><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo>(</mo><mi>X</mi><mo>)</mo><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo>(</mo><mi>X</mi><mo>)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">x = \frac{x-min(X)}{max(X)-min(X)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.427em;"></span><span class="strut bottom" style="height:2.363em;vertical-align:-0.936em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit">x</span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit">m</span><span class="mord mathit">a</span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mbin">−</span><span class="mord mathit">m</span><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span><span style="top:-0.2300000000000001em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathit">x</span><span class="mbin">−</span><span class="mord mathit">m</span><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight python"><figcaption><span>Min-Max Standard</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minmax_standard</span>(<span class="params">df</span>):</span></span><br><span class="line"></span><br><span class="line">    min_ = df.<span class="built_in">min</span>(axis=<span class="number">0</span>)</span><br><span class="line">    max_ = df.<span class="built_in">max</span>(axis=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> (df-min_)/(max_-min_)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Min-Max 标准化后的数据的折线图如下：</p><div style="width:30%;margin:auto"><img src="/images/minmax.png" class="[table]" title="title text alt text"></div><p>Min-Max 标准化后数据的分布图如下：</p><div style="width:30%;margin:auto"><img src="/images/minmax_hist.png" class="[table]" title="title text alt text"></div><ul><li>Z-score 标准化</li></ul><p>公式如下:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>(</mo><mi>X</mi><mo>)</mo></mrow><mrow><mi>s</mi><mi>t</mi><mi>d</mi><mo>(</mo><mi>X</mi><mo>)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">x = \frac{x-mean(X)}{std(X)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.427em;"></span><span class="strut bottom" style="height:2.363em;vertical-align:-0.936em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit">x</span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit">s</span><span class="mord mathit">t</span><span class="mord mathit">d</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span><span style="top:-0.2300000000000001em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathit">x</span><span class="mbin">−</span><span class="mord mathit">m</span><span class="mord mathit">e</span><span class="mord mathit">a</span><span class="mord mathit">n</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight python"><figcaption><span>Z-score Standard</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">zscore_standard</span>(<span class="params">df</span>):</span></span><br><span class="line"></span><br><span class="line">    std_ = df.std(axis=<span class="number">0</span>)</span><br><span class="line">    mean_ = df.mean(axis=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> (df-mean_)/std_</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Z-score 标准化后数据的折线图如下：</p><div style="width:30%;margin:auto"><img src="/images/zscore.png" class="[table]" title="title text alt text"></div><p>Z-score 标准化后数据的分布图如下：</p><div style="width:30%;margin:auto"><img src="/images/zscore_hist.png" class="[table]" title="title text alt text"></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;参考文献：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI0MDIwNDg2NQ==&amp;amp;mid=2247485498&amp;amp;idx=1&amp;amp;sn=cf54035897cd679e803cba7</summary>
      
    
    
    
    
    <category term="quant" scheme="https://tangqianyan.github.io/tags/quant/"/>
    
  </entry>
  
  <entry>
    <title>quant paper 01</title>
    <link href="https://tangqianyan.github.io/2021/08/13/quant-paper-01/"/>
    <id>https://tangqianyan.github.io/2021/08/13/quant-paper-01/</id>
    <published>2021-08-13T11:34:03.000Z</published>
    <updated>2021-08-15T12:49:27.366Z</updated>
    
    <content type="html"><![CDATA[<p>文章: Individualized Indicator for All: Stock-wise Technical Indicator Optimization with Stock Embedding</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;文章: Individualized Indicator for All: Stock-wise Technical Indicator Optimization with Stock Embedding&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="quant-paper" scheme="https://tangqianyan.github.io/tags/quant-paper/"/>
    
  </entry>
  
  <entry>
    <title>管理人生</title>
    <link href="https://tangqianyan.github.io/2021/08/13/%E7%AE%A1%E7%90%86%E4%BA%BA%E7%94%9F/"/>
    <id>https://tangqianyan.github.io/2021/08/13/%E7%AE%A1%E7%90%86%E4%BA%BA%E7%94%9F/</id>
    <published>2021-08-12T16:01:02.000Z</published>
    <updated>2021-08-13T01:39:47.354Z</updated>
    
    <content type="html"><![CDATA[<p>最近在读《坚毅》这本书。第四章谈到目标，值得重点关注。</p><p>记得在一二年级的时候，老师常会问一个问题：“你长大之后想做什么？”。那时候，总觉得这个问题实在无趣。等到站在奔三的关口上，生活忙碌起来，人生迷茫起来。才意识到，活在世上，我们都需要有自己的人生哲学。</p><p>那如何用目标来管理人生呢，书中提到可以将目标分成三个层次：顶层、中层和底层。目标所处层次越高，就越抽象、越普遍、越重要。最顶层的目标像指南针，给下面的所有目标提供了方向。有了这个前提，对于工作和生活中的种种活动做还是不做，便一目了然了。通过服务于自己的顶层目标和人生哲学，人生的大部分行动便有了意义。</p><center><pre class="mermaid">graph TD    G0-->G1;    G0-->G2;    G0-->G3;    G1-->G4;    G1-->G5;    G2-->G6;    G2-->G8;    G3-->G8;    G3-->G9;</pre></center><p>这种组织方式和芭芭拉《金字塔原理》中组织写作的方式很相似。每个底层目标实际上都是服务于上一层目标。</p><ul><li>当有多个顶层目标的时候，保留最重要的那个；</li><li>当底层目标过多时，将他们组织起来，删去不必要的目标；</li><li>当一个底层目标无法完成时，确定一个新的底层目标，以便实现同一个上层目标；</li></ul><blockquote><ul><li>心怀远大目标去工作，积极为此后的生活准备；</li><li>不因单纯的可变性而放弃任务；</li><li>一旦决定就坚持在某个方向上。所谓立恒志，而非恒立志；</li><li>不轻易言弃。应变、调适、战胜。</li></ul><footer><strong>坚毅</strong><cite>杜李惠安</cite></footer></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近在读《坚毅》这本书。第四章谈到目标，值得重点关注。&lt;/p&gt;
&lt;p&gt;记得在一二年级的时候，老师常会问一个问题：“你长大之后想做什么？”。那时候，总觉得这个问题实在无趣。等到站在奔三的关口上，生活忙碌起来，人生迷茫起来。才意识到，活在世上，我们都需要有自己的人生哲学。&lt;/p</summary>
      
    
    
    
    
    <category term="GRIT" scheme="https://tangqianyan.github.io/tags/GRIT/"/>
    
  </entry>
  
  <entry>
    <title>星汉灿烂</title>
    <link href="https://tangqianyan.github.io/2021/08/12/%E6%98%9F%E6%B1%89%E7%81%BF%E7%83%82/"/>
    <id>https://tangqianyan.github.io/2021/08/12/%E6%98%9F%E6%B1%89%E7%81%BF%E7%83%82/</id>
    <published>2021-08-11T16:20:48.000Z</published>
    <updated>2021-08-12T15:31:14.071Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/IMG_E5092.JPG" alt="长江" /></p><blockquote><p>对个人来说，历史在一 年一年地过往，生命在一天一天地减少。 对人类来说，历史 在一年一年地延长，生命在一天一天地增加。 个人就是在整体的增加中减少，而整体就是在 个体的减少中增加。</p><footer><strong>政治的人生</strong><cite>- 王沪宁</cite></footer></blockquote><p>每次读到《政治的人生》最后一篇日记，总是想到曹操的《观沧海》。</p><blockquote><center>观沧海<p>东临碣石，以观沧海。<br />水何澹澹，山岛竦峙。<br />树木丛生，百草丰茂。<br />秋风萧瑟，洪波涌起。<br />日月之行，若出其中。<br />星汉灿烂，若出其里。<br />幸甚至哉，歌以咏志。</p></center> <footer><strong>观沧海</strong><cite>- 曹操</cite></footer></blockquote><p>整体与个体，时间与空间，在这一刻统一起来。这样的人生，令人向往。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/IMG_E5092.JPG&quot; alt=&quot;长江&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;对个人来说，历史在一 年一年地过往，生命在一天一天地减少。 对人类来说，历史 在一年一年地延长，生命在一天一天地增加。 个人就是在整体的增加中减少</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hexo 相关链接</title>
    <link href="https://tangqianyan.github.io/2021/08/11/hello-world/"/>
    <id>https://tangqianyan.github.io/2021/08/11/hello-world/</id>
    <published>2021-08-11T14:50:02.473Z</published>
    <updated>2021-08-15T10:03:37.125Z</updated>
    
    <content type="html"><![CDATA[<ul><li><a href="https://titangene.github.io/article/hexo-disqus.html">添加评论</a></li><li><a href="https://yanyinhong.github.io/2017/05/02/How-to-insert-image-in-hexo-post/">添加图片</a></li><li><a href="https://qingstudios.com/2020/03/01/Hexo%E4%B8%AD%E6%8F%92%E5%85%A5%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/">添加公式</a></li><li><a href="https://somelou.xyz/p/1136132855/">Markdown语法</a></li><li><a href="https://hexo.io/zh-cn/docs/tag-plugins.html">官方项目</a></li><li><a href="https://codertang.com/2019/02/21/hexo-drawing-plantuml/">画图</a></li><li><a href="https://github.com/webappdevelp/hexo-filter-mermaid-diagrams">添加 mermaid 画图</a></li><li><a href="https://hexo.imydl.tech/archives/6742.html">表格美化</a></li><li><a href="http://xring.info/2018/hexo-pic-size.html">定义图片大小</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://titangene.github.io/article/hexo-disqus.html&quot;&gt;添加评论&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://yanyinhong.github.io/2017/05/02/H</summary>
      
    
    
    
    
  </entry>
  
</feed>
