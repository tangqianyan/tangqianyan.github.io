{"meta":{"title":"静渊","subtitle":"静渊以有谋，疏通而知事","description":"对个人来说，历史在一 年一年地过往，生命在一天一天地减少。 对人类来说，历史 在一年一年地延长，生命在一天一天地增加。 个人就是在整体的增加中减少，而整体就是在 个体的减少中增加。","author":"Curtis Xiao","url":"https://tangqianyan.github.io","root":"/"},"pages":[],"posts":[{"title":"Fama-French 三因子模型","slug":"Fama-French","date":"2021-08-17T15:00:24.000Z","updated":"2021-08-18T15:27:02.748Z","comments":true,"path":"2021/08/17/Fama-French/","link":"","permalink":"https://tangqianyan.github.io/2021/08/17/Fama-French/","excerpt":"","text":"资本资产定价模型 资本资产定价模型 (Capital Asset Pricing Model, CAPM) 用来刻画风险与预期收益率之间的关系。换言之，该公式用来判断资产的定价在考虑风险和货币时间价值 (Time Value of Money, TVM) 的情况下是否合理。 公式如下： E[Ri]−Rf=βi(E[Rm]−Rf),E[R_i]-R_f = \\beta_i(E[R_m]-R_f), E[R​i​​]−R​f​​=β​i​​(E[R​m​​]−R​f​​), 其中： RiR_iR​i​​ 为资产 iii 的收益率； RfR_fR​f​​ 为无风险利率； RMR_MR​M​​ 为市场组合的收益率，通常用股票指数的收益率或者所有股票的收益率表示； βi\\beta_iβ​i​​ 为资产 iii 的系统性风险系数 βi=cov(Ri,RM)var(RM)\\beta_i=\\frac{cov(R_i, R_M)}{var(R_M)}β​i​​=​var(R​M​​)​​cov(R​i​​,R​M​​)​​。如果资产的风险大于市场组合，那么 β\\betaβ 大于1。反之，则小于1； Fama-French 三因子模型 三因子模型的公式如下： E[Ri]−Rf=βi,MKT(E[RM]−Rf)+βi,SMBE[RSMB]+βi,HMLE[RHML],E[R_i]-R_f = \\beta_{i,MKT}(E[R_M]-R_f)+\\beta_{i,SMB}E[R_{SMB}]+\\beta_{i,HML}E[R_{HML}], E[R​i​​]−R​f​​=β​i,MKT​​(E[R​M​​]−R​f​​)+β​i,SMB​​E[R​SMB​​]+β​i,HML​​E[R​HML​​], 其中， E[RM]E[R_M]E[R​M​​] 为市场组合预期收益率； E[RSMB]E[R_{SMB}]E[R​SMB​​] 为规模因子的预期收益率； E[RHML]E[R_{HML}]E[R​HML​​] 为价值因子的预期收益率； 可以写成如下形式： E[Ri]−Rf=βi,MKT(RM−Rf)+βi,SMBRSMB+βi,HMLRHML+αi+εi,E[R_i]-R_f = \\beta_{i,MKT}(R_M-R_f)+\\beta_{i,SMB}R_{SMB}+\\beta_{i,HML}R_{HML}+\\alpha_i+\\varepsilon_i, E[R​i​​]−R​f​​=β​i,MKT​​(R​M​​−R​f​​)+β​i,SMB​​R​SMB​​+β​i,HML​​R​HML​​+α​i​​+ε​i​​, 其中: αi\\alpha_iα​i​​ 为超额收益率，是投资组合在大盘波动之外的额外收益。该值越高说明，投资组合越好； 参考链接： 资本资产定价模型 Capital Asset Pricing Model (CAPM) Python量化入门：Fama-French三因子模型 三因子模型","categories":[],"tags":[{"name":"quant","slug":"quant","permalink":"https://tangqianyan.github.io/tags/quant/"}]},{"title":"多因子选股模型之因子分类","slug":"多因子选股模型","date":"2021-08-16T15:47:58.000Z","updated":"2021-08-17T15:05:26.932Z","comments":true,"path":"2021/08/16/多因子选股模型/","link":"","permalink":"https://tangqianyan.github.io/2021/08/16/%E5%A4%9A%E5%9B%A0%E5%AD%90%E9%80%89%E8%82%A1%E6%A8%A1%E5%9E%8B/","excerpt":"","text":"因子分类 估值类因子 估值类因子能较好的反应股票的内在价值。通常来说，估值较低的股票相比估值较高的因子有更好的预期收益率。常用的指标有 PE (Price-Earning Ratio): 市盈率 PE = \\frac{每股市场价格}{每股每年盈利} PB (Price-to-Book Ratio)：市净率 PB = \\frac{市值}{归母公司净资产} PCF (Price-to-Cash-Flow Ratio)：股价现金流比率 PCF = \\frac{每股股价}{每股现金流} PSR (Price-Sales Ratio)：股价销售额比率，市销率或称市值营收比 PSR = \\frac{股价}{盈利收入} 成长类因子 成长类因子主要反映公司未来的成长。改因子和未来预期收益较为相关。 NPG (Net Profit Growth)：净利润增长率，净利润增长率代表企业当期净利润比上期净利润的增长幅度； NPG = \\frac{报告期净利润-基期净利润}{基期净利润} EPS (Earnings Per Share)：每股盈余，普通股每股税后利润。 EPS = \\frac{盈余}{流通在外的股数} ROA (Return on Assert)：资产回报率 ROA = \\frac{税后净利润}{总资产} ROE (Return on Equity)：净资产收益率 ROE = \\frac{净利润}{净资产} 盈利类因子 盈利类因子指通过已有资源获取利润的能力，通常衡量企业的管理和发展能力。 ROE ROA ROIC (Return on Invested Capital)：资产回报率 ROIC = \\frac{息前税后利润}{投入资本} TAT (Total Asset Turnover)：总资产周转率 TAT = \\frac{销售额}{总资产} 投资类因子 投资类因子主要衡量因子的发展情况。 Total Market Capitaliztion 股票市值 Asset Liability Ratio 资产负债比率 ALR=Total LabilitiesNet AssetsALR = \\frac{Total\\ Labilities}{Net\\ Assets} ALR=​Net Assets​​Total Labilities​​ Fixed Assets Ratio FAR=Fixed AssetsTotal AssetsFAR = \\frac{Fixed\\ Assets}{Total\\ Assets} FAR=​Total Assets​​Fixed Assets​​ 技术类因子 通过价量数据来反映股价的变化情况。这类因子很多。 数据处理的问题 行业中性化主要是为了解决不同行业，指标差异较大的问题。行业中性化有以下几种方法： 因子值减去行业均值再除以行业因子方差，有点类似于数据标准化： Industry Neutralized Factor=Factor−AverageindustryStdindustryIndustry\\ Neutralized\\ Factor = \\frac{Factor- Average_{industry}}{Std_{industry}} Industry Neutralized Factor=​Std​industry​​​​Factor−Average​industry​​​​ 参考文献： 多因子选股策略及其在中国股票市场的研究； 因子投资-方法与实践；","categories":[],"tags":[]},{"title":"运动记录","slug":"运动记录","date":"2021-08-16T15:37:19.000Z","updated":"2021-08-19T15:50:07.998Z","comments":true,"path":"2021/08/16/运动记录/","link":"","permalink":"https://tangqianyan.github.io/2021/08/16/%E8%BF%90%E5%8A%A8%E8%AE%B0%E5%BD%95/","excerpt":"","text":"日期 俯卧撑 深蹲 2021-08-15 3 3 2021-08-16 3 3 2021-08-17 3 4 2021-08-18 4 4 2021-08-19 4 4","categories":[],"tags":[]},{"title":"量化文章","slug":"量化文章","date":"2021-08-16T06:13:30.000Z","updated":"2021-08-16T09:53:16.602Z","comments":true,"path":"2021/08/16/量化文章/","link":"","permalink":"https://tangqianyan.github.io/2021/08/16/%E9%87%8F%E5%8C%96%E6%96%87%E7%AB%A0/","excerpt":"","text":"收录了一些量化相关的文章： 量化历史类 量化投资发展史：野蛮、乱象、科学 四大私募量化策略解析——阿尔法、套利、期货CTA、高频交易","categories":[],"tags":[{"name":"Quant","slug":"Quant","permalink":"https://tangqianyan.github.io/tags/Quant/"}]},{"title":"Python 存储 DataFrame 格式对比","slug":"save-data","date":"2021-08-15T13:55:34.000Z","updated":"2021-08-15T15:10:08.733Z","comments":true,"path":"2021/08/15/save-data/","link":"","permalink":"https://tangqianyan.github.io/2021/08/15/save-data/","excerpt":"","text":"测试了 fether, parquet, pickle, hdf, csv 五种格式在读取、存储所需的时间，以及占用的磁盘大小； 读取文件耗时 存储文件耗时 占用硬盘大小 结论 可以看出 feather 格式在读取速度、存储速度以及存储大小方面占据优势。 参考链接： The Best Format to Save Pandas Data What are the differences between feather and parquet?","categories":[],"tags":[]},{"title":"Alpha 模型","slug":"alpha-model","date":"2021-08-14T15:53:53.000Z","updated":"2021-08-15T12:49:10.931Z","comments":true,"path":"2021/08/14/alpha-model/","link":"","permalink":"https://tangqianyan.github.io/2021/08/14/alpha-model/","excerpt":"","text":"参考文献： 一个量化少年的年度因子研究总结 量化数据预处理：去极值、标准化、中性化 1. Alpha 模型 Alpha模型就是用来预测组合收益的模型，通过筛选一类优质股票，获取超额收益。 2. 因子计算 2.1 一个简单的因子 我们使用的一个简单的因子来进行演示，因子公式如下： factor=close−delay(close,1).factor=close-delay(close, 1). factor=close−delay(close,1). 我们使用 000001.SH 的数据进行计算，并绘制出因子值分布图，如下: 2.1 因子数据异常值处理 通过因子函数计算出来的因子值，可能会包含异常值，我们需要对这些数值做相应的处理。 2.1.1 去极值 分位数去极值：把上下几分位数外的数据进行截断。譬如，四分位数将数据分为数量上相等的四个部分。我们先使用pandas中的describe看下因子值的整体情况： 000001.XSHE count 25.000000 mean -0.220800 std 0.538949 min -1.390000 25% -0.280000 50% -0.130000 75% -0.040000 max 0.860000 画出因子值曲线 四分位数截断的代码如下： 4-quantile1234567891011def quantitle_clip(df): qr = df.quantile(q=[0.25,0.75], axis=0) q1 = qr.iloc[0] q2 = qr.iloc[1] iqr = q2 - q1 #Interquartile range fence_low = q1-1.5*iqr fence_high = q2+1.5*iqr return df.clip(fence_low, fence_high, axis=1) 画出截断后的因子折线图： 截断后的因子分布图 3-sigma法：假设数据符合正态分布，把三倍标准差之外的值都视为异常值。均值和标准差都不是稳健统计量，其值受极值的影响较大。 3-sigma数据截断的代码如下： 3-sigma123456789def three_sigma(df): mean = df.mean(axis=0) std = df.std(axis=0) fence_low = mean - 3.0*std fence_high = mean + 3.0*std return df.clip(fence_low, fence_high, axis=1) 3-sigma截断数据的折线图如下： 3-sigma截断数据的分布图如下： 中位数法：前面提到 3-sigma 方法均值和方差不够稳定。中位数法把这两个值换成稳健统计量，即使用中位数代替均值，用 MAD (Median Absolute Deviation) 代替方差。 MAD12345678def mad(df): median = df.median(axis=0) mae = (df-median).abs().median(axis=0) fence_low = median - 3.0*mae fence_high = median + 3.0*mae return df.clip(fence_low, fence_high, axis=1) MAD 截断数据的折线图如下： MAD 截断数据的分布图如下： 数据标准化 最小最大标准化 (Min-Max Normalization) x=x−min(X)max(X)−min(X)x = \\frac{x-min(X)}{max(X)-min(X)} x=​max(X)−min(X)​​x−min(X)​​ Min-Max Standard1234567def minmax_standard(df): min_ = df.min(axis=0) max_ = df.max(axis=0) return (df-min_)/(max_-min_) Min-Max 标准化后的数据的折线图如下： Min-Max 标准化后数据的分布图如下： Z-score 标准化 公式如下: x=x−mean(X)std(X)x = \\frac{x-mean(X)}{std(X)} x=​std(X)​​x−mean(X)​​ Z-score Standard1234567def zscore_standard(df): std_ = df.std(axis=0) mean_ = df.mean(axis=0) return (df-mean_)/std_ Z-score 标准化后数据的折线图如下： Z-score 标准化后数据的分布图如下：","categories":[],"tags":[{"name":"quant","slug":"quant","permalink":"https://tangqianyan.github.io/tags/quant/"}]},{"title":"quant paper 01","slug":"quant-paper-01","date":"2021-08-13T11:34:03.000Z","updated":"2021-08-15T12:49:27.366Z","comments":true,"path":"2021/08/13/quant-paper-01/","link":"","permalink":"https://tangqianyan.github.io/2021/08/13/quant-paper-01/","excerpt":"","text":"文章: Individualized Indicator for All: Stock-wise Technical Indicator Optimization with Stock Embedding","categories":[],"tags":[{"name":"quant-paper","slug":"quant-paper","permalink":"https://tangqianyan.github.io/tags/quant-paper/"}]},{"title":"管理人生","slug":"管理人生","date":"2021-08-12T16:01:02.000Z","updated":"2021-08-13T01:39:47.354Z","comments":true,"path":"2021/08/13/管理人生/","link":"","permalink":"https://tangqianyan.github.io/2021/08/13/%E7%AE%A1%E7%90%86%E4%BA%BA%E7%94%9F/","excerpt":"","text":"最近在读《坚毅》这本书。第四章谈到目标，值得重点关注。 记得在一二年级的时候，老师常会问一个问题：“你长大之后想做什么？”。那时候，总觉得这个问题实在无趣。等到站在奔三的关口上，生活忙碌起来，人生迷茫起来。才意识到，活在世上，我们都需要有自己的人生哲学。 那如何用目标来管理人生呢，书中提到可以将目标分成三个层次：顶层、中层和底层。目标所处层次越高，就越抽象、越普遍、越重要。最顶层的目标像指南针，给下面的所有目标提供了方向。有了这个前提，对于工作和生活中的种种活动做还是不做，便一目了然了。通过服务于自己的顶层目标和人生哲学，人生的大部分行动便有了意义。 graph TD G0-->G1; G0-->G2; G0-->G3; G1-->G4; G1-->G5; G2-->G6; G2-->G8; G3-->G8; G3-->G9; 这种组织方式和芭芭拉《金字塔原理》中组织写作的方式很相似。每个底层目标实际上都是服务于上一层目标。 当有多个顶层目标的时候，保留最重要的那个； 当底层目标过多时，将他们组织起来，删去不必要的目标； 当一个底层目标无法完成时，确定一个新的底层目标，以便实现同一个上层目标； 心怀远大目标去工作，积极为此后的生活准备； 不因单纯的可变性而放弃任务； 一旦决定就坚持在某个方向上。所谓立恒志，而非恒立志； 不轻易言弃。应变、调适、战胜。 坚毅杜李惠安","categories":[],"tags":[{"name":"GRIT","slug":"GRIT","permalink":"https://tangqianyan.github.io/tags/GRIT/"}]},{"title":"星汉灿烂","slug":"星汉灿烂","date":"2021-08-11T16:20:48.000Z","updated":"2021-08-12T15:31:14.071Z","comments":true,"path":"2021/08/12/星汉灿烂/","link":"","permalink":"https://tangqianyan.github.io/2021/08/12/%E6%98%9F%E6%B1%89%E7%81%BF%E7%83%82/","excerpt":"","text":"对个人来说，历史在一 年一年地过往，生命在一天一天地减少。 对人类来说，历史 在一年一年地延长，生命在一天一天地增加。 个人就是在整体的增加中减少，而整体就是在 个体的减少中增加。 政治的人生- 王沪宁 每次读到《政治的人生》最后一篇日记，总是想到曹操的《观沧海》。 观沧海 东临碣石，以观沧海。 水何澹澹，山岛竦峙。 树木丛生，百草丰茂。 秋风萧瑟，洪波涌起。 日月之行，若出其中。 星汉灿烂，若出其里。 幸甚至哉，歌以咏志。 观沧海- 曹操 整体与个体，时间与空间，在这一刻统一起来。这样的人生，令人向往。","categories":[],"tags":[]},{"title":"Hexo 相关链接","slug":"hello-world","date":"2021-08-11T14:50:02.473Z","updated":"2021-08-15T10:03:37.125Z","comments":true,"path":"2021/08/11/hello-world/","link":"","permalink":"https://tangqianyan.github.io/2021/08/11/hello-world/","excerpt":"","text":"添加评论 添加图片 添加公式 Markdown语法 官方项目 画图 添加 mermaid 画图 表格美化 定义图片大小","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"quant","slug":"quant","permalink":"https://tangqianyan.github.io/tags/quant/"},{"name":"Quant","slug":"Quant","permalink":"https://tangqianyan.github.io/tags/Quant/"},{"name":"quant-paper","slug":"quant-paper","permalink":"https://tangqianyan.github.io/tags/quant-paper/"},{"name":"GRIT","slug":"GRIT","permalink":"https://tangqianyan.github.io/tags/GRIT/"}]}